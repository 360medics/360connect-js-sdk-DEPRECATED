<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <title>Test de connexion via sdk V2</title>
        <script src="../dist/360connect-js-sdk.bundle.js"></script>
    </head>
    <style>
        .hidden {
            display: none;
        }
    </style>
    <body>
        <h1>
            Test de connexion via sdk V2
        </h1>
        <div id="no-connected">
            Salut, tu veux accéder à nos fonctionnalités ?
            <br /><br />
            <login-button></login-button>
        </div>
        <div id="connected" class="hidden">
            Hey, ça marche !<br/>
            Bonjour <span id="name-user"></span>
            <logout-button></logout-button>
        </div>
    </body>
    <script type="application/javascript">

        Connect.init({
            clientKey : '42',
            environnement : 'dev'
        });

        document.getElementsByTagName('login-button').item(0).addEventListener('has-data-user', function (e) {
           document.getElementById('connected').classList.remove('hidden');
           document.getElementById('no-connected').classList.add('hidden');
           document.getElementById('name-user').innerText = Connect.user.toString();
        });

        document.getElementsByTagName('logout-button').item(0).addEventListener('has-logout', function (e) {
            document.getElementById('no-connected').classList.remove('hidden');
            document.getElementById('connected').classList.add('hidden');
            document.getElementById('name-user').innerText = '';
        });

    </script>
</html>
