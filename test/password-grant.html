<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>360Connect JS SDK - Testing</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.slim.min.js"></script>
    <script src="../dist/360connect-js-sdk.bundle.js"></script>
    <style type="text/css">body { padding: 8px 16px }</style>

    <script>
        // client side code !
        const ENV = 'dev';
        const CLIENT_ID = '1_2kazv0v7xrs444kcgss044s080o80w84co8o0coc0cg4ko0okc';
        const CLIENT_SECRET = '6cmwgzlkgx0kg4wkcs4gk0o0owgc80k44cs0cc8g8sgko40ckc';
        const REDIRECT_URI = 'http://360medical.dev/oauth/v2/auth_login_success';
        const SCOPE = 'anon_scope';

        /**
         * NOT STABLE YET !
         */
         
        Connect.initialize({
            clientId: CLIENT_ID,
            clientSecret: CLIENT_SECRET,
            environment: ENV,
            package: 'com.demo.medical',
            version: '0.3.2',
        });

        const oauthParams = { scope: SCOPE, username: 'john.doe@360medical.fr', password: 'frenchfrog' };

        $(function() {
            Connect.OAuth().requestPasswordGrants(oauthParams).then(function(response) {
                console.log(response)
                if (response.statusCode === 200) {
                    //login success!
                } else {
                    //login error
                }
            })

            Connect.OAuth().getLoginStatus(true).then(response => {
                console.log('login status?')
                console.log(response)
            })
        });
    </script>
</head>
<body>

    <p>
        <span id="info"></span>
    </p>
</body>
